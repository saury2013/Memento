{% extends "base.html" %}

{% block header_css %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='jsmind/jsmind.css') }}">
<style type="text/css">
        #jsmind_container{
            width:100%;
            height:950px;
            border:solid 1px #ccc;
            background:#f4f4f4;
        }
    </style>
{% endblock header_css %}

{% block container%}
<div id="jsmind_container"></div>
{% endblock container%}


{% block bottom_js %}
<script type="text/javascript" src="{{ url_for('static', filename='jsmind/jsmind.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='jsmind/jsmind.draggable.js') }}"></script>
<script type="text/javascript">
    function load_jsmind(){
        var data_str = {{ branch_tree|tojson }};
        // data_obj = data_obj.replace(/[\\]/g,'');
        var mind = JSON.parse(data_str)
        var options = {
            container:'jsmind_container',
            editable:false,
            theme:'primary'
        }
        var jm = jsMind.show(options,mind);
        // jm.set_readonly(true);
        // var mind_data = jm.get_data();
        // alert(mind_data);
        jm.add_node("sub2","sub23", "new node", {"background-color":"red"});
        jm.set_node_color('sub21', 'green', '#ccc');
    }

    load_jsmind();
</script>
{% endblock bottom_js %}