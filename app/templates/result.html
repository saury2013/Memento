{% extends "base.html" %}
{% import "helpers.html" as macros %}

{% block header %}
<h2 class="text-center">Result by Fragments</h2>
<hr>
{% endblock header %}

{% block content %}
{% if fragments %}
<div class="row">
    {% for fragment in fragments %}
    <div class="panel panel-info">
        <div class="panel-body">
            <h4>{{ fragment.title }}</h4>
                branch:&ensp;<span>{{ fragment.branch.name }}</span>&ensp;&ensp;
                tags:&ensp;
                {% for tag in fragment.tags %}
                <span>{{ tag.name }}</span>&ensp;
                {% endfor %}
            {{ fragment.updatetime }}
        </div>
        <div class="panel-footer">
            {{ fragment.html|truncate(300, False) }}
            <p><a class=" pull-right" href="{{ url_for('main.page',id=fragment.id) }}">View details &raquo;</a></p>
        </div>
    </div>
    {% endfor %}
</div>
<div class="pagination">
    {{ macros.render_pagination(pagination) }}
</div>
{% else %}
<p>There are no tags in use so far.</p>
{% endif %}
{% endblock content %}